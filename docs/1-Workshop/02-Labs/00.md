# Lab 0: Add Your Data

!!! quote "In this lab, you will learn to add your data to create a search index."

    By the end of this lab, you should be able to:

    - [X] Populate your own data in the search index
    - [X] Understand how search index works with a simple test

---

## 1. Why Search Index?

The main purpose of the search index is to support the ability to ground your model responses in knowledge _retrieved from your data_. In this lab, we'll run a notebook that populates the Azure AI Search resource with a default search index called `contoso-products`. 

We can then use this index in two exercises:

1. **Synthetic Dataset Generation** - using the Simulator with a search index
1. **Manual Evaluation (in Portal)** - with, and without, grounding context

---

## 2. Update Access Roles

_We need our user identity to have specific access roles to the search resource - let's fix that._

1. Return to the GitHub Codespaces environment (browser tab)
1. Run this command in the VS Code terminal - it completes within a minute or so.

    ```bash title="" linenums="0"
    ./scripts/update-search-roles.sh
    ```

---

## 3. Populate The Index

_Now that we have access, we just need to run the notebook to create a search index with that name, and populate the data from our local files. Let's do that, next!_.

1. Open the `data/product_info/create-azure-search.ipynb` notebook in editor.
    - Select Kernel - use the default Python environment (see: `3.12.10`)
    - Click "Clear Outputs", then "Run All" - this takes 1-2 minutes to complete
    - âœ… | You should see: _"uploading 20 documents to index contoso-products"_

1. Verify the product search index was created:
    - Return to Azure Portal browser tab - it should be open to the Search service page:
        ![Foundry](./../../img/self-guided/01-Azure-Portal-04.png)
    - Click on **Search explorer** - you see `contoso-products` as shown. Click "Search" to see default search results for an empty query. It should look like this:
        ![Foundry](./../../img/self-guided/01-Index-Populate.png)

---

## 3. Test The Index

- Type in this search query:

    ```bash title="" linenums="0"
    Dining Table
    ```

- Look at the `value` field - you should see something like this. _Keyword search works!_

    ```bash title="" linenums="0"
    Discover ... with the CampBuddy Adventure Dining Table.
    ```

- Now try this search query:

    ```bash title="" linenums="0"
    Something to eat on
    ```
    
- Look at the `value` field - you see something like this. You got a semantically meaningful result that goes beyond keyword matching. _This is an example of vector search_.

    ![Foundry](./../../img/self-guided/01-Index-Validate.png)

---

**Your search index is ready - on to the next lab!**